<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RevStar Summit '25 - MC Notes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* RevStar Brand Colors */
            --bg-base: #F5F5F0;
            --bg-pink: #FFD4E5;
            --ink-primary: #000000;
            --ink-secondary: rgba(0, 0, 0, 0.7);
            --accent-blue: #0066FF;
            --accent-green: #D0EE96;
            --shape-pink: #FF6B9D;
            --shape-orange: #FF8C42;
            --keyline: rgba(0, 0, 0, 0.2);

            /* Spacing */
            --unit: 8px;
        }

        @font-face {
            font-family: 'SF Mono';
            src: local('SF Mono'), local('Monaco'), local('Consolas');
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: var(--bg-pink);
            color: var(--ink-primary);
            overflow: hidden;
            height: 100vh;
            touch-action: pan-y;
            -webkit-font-smoothing: antialiased;
        }

        #app {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Top bar */
        #top-bar {
            background: var(--ink-primary);
            color: var(--bg-base);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            border-bottom: 1px solid var(--keyline);
        }

        #progress {
            font-family: 'SF Mono', monospace;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: all 0.12s ease-out;
            padding: 4px 8px;
            border-radius: 2px;
            position: relative;
        }

        #progress::after {
            content: "tap to view all";
            position: absolute;
            top: 50%;
            left: calc(100% + 12px);
            transform: translateY(-50%);
            font-size: 9px;
            color: rgba(255, 255, 255, 0.5);
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        #progress:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        #progress:active {
            opacity: 0.7;
        }

        #controls {
            display: flex;
            gap: 12px;
        }

        button {
            background: var(--bg-base);
            color: var(--ink-primary);
            border: 1px solid var(--keyline);
            padding: 6px 16px;
            border-radius: 2px;
            font-family: 'SF Mono', monospace;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.12s ease-out;
            text-transform: lowercase;
            letter-spacing: 0.5px;
        }

        button:active {
            background: var(--ink-primary);
            color: var(--bg-base);
        }

        button.primary {
            background: var(--accent-blue);
            color: white;
            border-color: var(--accent-blue);
        }

        button.primary:active {
            background: #0052CC;
        }

        /* Interventions panel */
        #interventions-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 200;
            display: none;
            padding: 60px 20px 20px;
            overflow-y: auto;
        }

        #interventions-panel.visible {
            display: block;
        }

        #interventions-list {
            background: var(--ink-primary);
            color: var(--bg-base);
            border-radius: 4px;
            padding: 32px 24px;
            max-width: 600px;
            margin: 0 auto;
            border: 1px solid var(--keyline);
        }

        #interventions-list h2 {
            margin-bottom: 24px;
            font-size: 22px;
            font-weight: 600;
            line-height: 1.3;
        }

        #interventions-list ul {
            list-style: none;
        }

        #interventions-list li {
            padding: 16px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 16px;
            line-height: 1.5;
        }

        #interventions-list li:last-child {
            border-bottom: none;
        }

        #interventions-list strong {
            font-family: 'SF Mono', monospace;
            font-weight: 600;
            color: var(--accent-blue);
            font-size: 14px;
        }

        .close-interventions {
            position: absolute;
            top: 12px;
            right: 20px;
        }

        /* Card container */
        #card-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
            position: relative;
        }

        .card {
            background: var(--bg-base);
            color: var(--ink-primary);
            border-radius: 4px;
            padding: 40px 32px 60px;
            width: 100%;
            max-width: 600px;
            min-height: 60vh;
            max-height: 75vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.15);
            position: relative;
            transition: opacity 0.18s ease-out;
            border: 2px solid var(--keyline);
        }

        .card.swipe-left,
        .card.swipe-right {
            opacity: 0;
        }

        .card-time {
            font-family: 'SF Mono', monospace;
            font-size: 14px;
            font-weight: 500;
            color: var(--accent-blue);
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }

        .card-number {
            position: absolute;
            top: 24px;
            right: 24px;
            font-family: 'SF Mono', monospace;
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-blue);
            letter-spacing: 0.5px;
            background: rgba(0, 102, 255, 0.1);
            padding: 4px 8px;
            border-radius: 2px;
        }

        .card-section-time {
            position: absolute;
            bottom: 24px;
            right: 32px;
            font-family: 'SF Mono', monospace;
            font-size: 12px;
            font-weight: 600;
            color: var(--ink-secondary);
            letter-spacing: 0.5px;
        }

        .card-section {
            font-family: 'SF Mono', monospace;
            font-size: 13px;
            font-weight: 700;
            color: var(--accent-blue);
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .card-title {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 32px;
            line-height: 1.1;
            letter-spacing: -0.5px;
        }

        .card-content {
            flex: 1;
        }

        .card-content ul {
            list-style: none;
            padding: 0;
        }

        .card-content li {
            font-size: 20px;
            line-height: 1.7;
            margin-bottom: 24px;
            padding-left: 24px;
            position: relative;
            color: var(--ink-primary);
        }

        .card-content li:before {
            content: "Â·";
            position: absolute;
            left: 0;
            font-weight: 700;
            font-size: 28px;
            color: var(--accent-blue);
            line-height: 1;
        }

        .card-footer {
            position: absolute;
            bottom: 24px;
            left: 32px;
            font-family: 'SF Mono', monospace;
            font-size: 11px;
            color: var(--accent-blue);
            font-weight: 600;
            letter-spacing: 0.8px;
            text-transform: lowercase;
        }

        /* Edit mode */
        #edit-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 200;
            display: none;
            padding: 60px 20px 20px;
            overflow-y: auto;
        }

        #edit-panel.visible {
            display: block;
        }

        #edit-content {
            background: var(--bg-base);
            border-radius: 4px;
            padding: 32px 24px;
            max-width: 800px;
            margin: 0 auto;
            border: 1px solid var(--keyline);
        }

        #edit-content h2 {
            margin-bottom: 16px;
            font-size: 22px;
            font-weight: 600;
        }

        #edit-content textarea {
            width: 100%;
            min-height: 400px;
            font-family: 'SF Mono', monospace;
            font-size: 13px;
            padding: 16px;
            border: 1px solid var(--keyline);
            border-radius: 2px;
            margin-bottom: 16px;
            background: white;
            line-height: 1.5;
        }

        .edit-buttons {
            display: flex;
            gap: 12px;
        }

        .close-edit {
            position: absolute;
            top: 12px;
            right: 20px;
        }

        /* Overview panel */
        #overview-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-base);
            z-index: 200;
            display: none;
            padding: 60px 20px 20px;
            overflow-y: auto;
        }

        #overview-panel.visible {
            display: block;
        }

        .close-overview {
            position: fixed;
            top: 12px;
            right: 20px;
            z-index: 210;
        }

        #overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .overview-card {
            background: var(--ink-primary);
            color: var(--bg-base);
            border-radius: 4px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.12s ease-out;
            position: relative;
            border: 1px solid var(--keyline);
        }

        .overview-card:active {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 102, 255, 0.2);
            border-color: var(--accent-blue);
        }

        .overview-card-time {
            font-family: 'SF Mono', monospace;
            font-size: 11px;
            font-weight: 500;
            color: var(--accent-blue);
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }

        .overview-card-number {
            position: absolute;
            top: 12px;
            right: 12px;
            font-family: 'SF Mono', monospace;
            font-size: 10px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.4);
            letter-spacing: 0.5px;
        }

        .overview-card-section {
            font-family: 'SF Mono', monospace;
            font-size: 10px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 6px;
        }

        .overview-card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .overview-card-preview {
            font-size: 13px;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.7);
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Tap zones */
        .tap-zone {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 50%;
            z-index: 10;
            cursor: pointer;
        }

        .tap-zone-left {
            left: 0;
        }

        .tap-zone-right {
            right: 0;
        }

        /* All Notes panel */
        #all-notes-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-base);
            z-index: 200;
            display: none;
            padding: 60px 20px 20px;
            overflow-y: auto;
        }

        #all-notes-panel.visible {
            display: block;
        }

        .close-all-notes {
            position: fixed;
            top: 12px;
            right: 20px;
            z-index: 210;
        }

        #all-notes-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 24px;
        }

        .notes-section {
            margin-bottom: 48px;
            padding-bottom: 24px;
            border-bottom: 2px solid var(--keyline);
        }

        .notes-section:last-child {
            border-bottom: none;
        }

        .notes-section-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 16px;
        }

        .notes-section-name {
            font-family: 'SF Mono', monospace;
            font-size: 14px;
            font-weight: 700;
            color: var(--accent-blue);
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .notes-section-time {
            font-family: 'SF Mono', monospace;
            font-size: 12px;
            font-weight: 600;
            color: var(--ink-secondary);
        }

        .notes-card {
            margin-bottom: 32px;
        }

        .notes-card:last-child {
            margin-bottom: 0;
        }

        .notes-card-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 16px;
            line-height: 1.2;
        }

        .notes-card-bullets {
            list-style: none;
            padding: 0;
        }

        .notes-card-bullets li {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 12px;
            padding-left: 20px;
            position: relative;
        }

        .notes-card-bullets li:before {
            content: "Â·";
            position: absolute;
            left: 0;
            font-weight: 700;
            font-size: 20px;
            color: var(--accent-blue);
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .card-title {
                font-size: 28px;
            }

            .card-content li {
                font-size: 18px;
                margin-bottom: 20px;
            }

            .card {
                padding: 32px 24px 56px;
                min-height: 60vh;
                max-height: 80vh;
            }

            #overview-grid {
                grid-template-columns: 1fr;
            }

            .card-footer {
                font-size: 10px;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <div id="top-bar">
            <div id="progress">card 1/25</div>
            <div id="controls">
                <button id="all-notes-btn">all notes</button>
                <button id="interventions-btn">schedule</button>
                <button id="edit-btn">edit</button>
            </div>
        </div>

        <div id="card-container">
            <div class="tap-zone tap-zone-left"></div>
            <div class="tap-zone tap-zone-right"></div>
            <div class="card" id="current-card">
                <div class="card-section">loading</div>
                <div class="card-title">Loading...</div>
                <div class="card-content">
                    <ul>
                        <li>Please wait</li>
                    </ul>
                </div>
                <div class="card-footer">RevStar Summit '25</div>
            </div>
        </div>

        <!-- Interventions panel -->
        <div id="interventions-panel">
            <button class="close-interventions">close</button>
            <div id="interventions-list">
                <h2>Interventions (Chronological)</h2>
                <ul>
                    <li><strong>09:10â09:15</strong> â Welcome + housekeeping â hand-off to JD SaintâMartin</li>
                    <li><strong>10:00â10:02</strong> â Announce break</li>
                    <li><strong>10:30</strong> â Introduce Sarah Chmielewski</li>
                    <li><strong>11:15â11:17</strong> â Announce break</li>
                    <li><strong>11:30</strong> â Introduce Guillaume Jacquet</li>
                    <li><strong>12:15â12:17</strong> â Announce lunch (Agora)</li>
                    <li><strong>13:30</strong> â Introduce Jordan Crawford & Doug Bell</li>
                    <li><strong>14:30</strong> â Introduce VC panel</li>
                    <li><strong>15:15</strong> â Announce break</li>
                    <li><strong>15:30</strong> â Introduce Dan Patterson</li>
                    <li><strong>16:15</strong> â Announce break</li>
                    <li><strong>16:15â16:30</strong> â Closing remarks + introduce Mark Roberge</li>
                </ul>
            </div>
        </div>

        <!-- Edit panel -->
        <div id="edit-panel">
            <button class="close-edit">cancel</button>
            <div id="edit-content">
                <h2>Edit cards</h2>
                <textarea id="cards-editor"></textarea>
                <div class="edit-buttons">
                    <button id="save-btn" class="primary">save changes</button>
                    <button id="reset-btn">reset to default</button>
                </div>
            </div>
        </div>

        <!-- Overview panel -->
        <div id="overview-panel">
            <button class="close-overview">close</button>
            <div id="overview-grid"></div>
        </div>

        <!-- All Notes panel -->
        <div id="all-notes-panel">
            <button class="close-all-notes">close</button>
            <div id="all-notes-content"></div>
        </div>
    </div>

    <script>
        // Default cards data - CONSOLIDATED
        const DEFAULT_CARDS = [
            {
                section: "Welcome",
                time: "09:10",
                title: "opening",
                bullets: [
                    "I'm Frank, founder of SaaSpasse, a QuÃ©bec community and media for SaaS and tech startups; honoured to host",
                    "RevStar is about practical go-to-market and building repeatable revenue",
                    "Snipcart nod: scrappy marketing machine, isolated, then exit, ð fancier sales motion",
                    "Time-travel today: young growth marketer Frank, stoked about community and GTM playbooks",
                    "Goal for the day: leave with 2-3 concrete moves you can work on Monday"
                ]
            },
            {
                section: "Housekeeping",
                time: "09:10",
                title: "logistics",
                bullets: [
                    "Phones on vibrate; photos welcome. FYI, my best profile = the left ð",
                    "Tag #RevStar Summit on LinkedIn + @Vasco & @Boreal Ventures",
                    "AM: 3 tactical keynotes (~30 min each)",
                    "Q&A after most talks; keep questions crisp",
                    "Schedule: revstarsummit.com",
                    "Lunch: Agora (follow signs)",
                    "PM: tactical keynote â VC panel â tactical keynote â headline talk"
                ]
            },
            {
                section: "JD Saint-Martin",
                time: "09:15",
                title: "introduction + background",
                bullets: [
                    "President, Lightspeed Commerce",
                    "Chronogolf co-founder",
                    "Scaled GTM globally from 0M to 1B",
                    "Leader & operator who knows his stuff",
                    "Also a hip-hop head (excited to have him on the pod!)",
                    "Please welcome JD Saint-Martin!"
                ]
            },
            {
                section: "JD Saint-Martin",
                time: "09:15",
                title: "Q&A seeds",
                bullets: [
                    "Which constraints to growth are hardest to hunt down?",
                    "Key GTM hires for pre-Series A team?",
                    "Good analysis hygiene for revenue leaders?"
                ]
            },
            {
                section: "Break",
                time: "10:00",
                title: "morning break",
                bullets: [
                    "Announce break",
                    "Back at 10:30"
                ]
            },
            {
                section: "Sarah Chmielewski",
                time: "10:30",
                title: "introduction + background",
                bullets: [
                    "VP of Sales, 360insights",
                    "10+ years in tech and SaaS",
                    "Known for high-performing teams & sustained revenue growth",
                    "AI-powered GTM strategies",
                    "Modern sales enablement: enriched signals â insights â battle cards",
                    "Turns enablement into rep productivity",
                    "Please welcome to the stage Sarah Chmielewski!"
                ]
            },
            {
                section: "Sarah Chmielewski",
                time: "10:30",
                title: "Q&A seeds",
                bullets: [
                    "If you had a week for GTM, what enablement artifact would you ship first?",
                    "Which indicators tell you enablement improves win rate or cycle speed?",
                    "How do you keep AI-assisted enablement accurate, on-brand, and trusted by reps?"
                ]
            },
            {
                section: "Break",
                time: "11:15",
                title: "mid-morning break",
                bullets: [
                    "Announce break",
                    "Back at 11:30"
                ]
            },
            {
                section: "Guillaume Jacquet",
                time: "11:30",
                title: "introduction + background",
                bullets: [
                    "CEO, Vasco",
                    "Chronogolf co-founder",
                    "Ex-EVP Product & Technology at Lightspeed",
                    "2x founder (1 exit)",
                    "Building science-based revenue platform at Vasco",
                    "One of our best podcast episodes!",
                    "Please welcome to the stage Guillaume Jacquet!"
                ]
            },
            {
                section: "Guillaume Jacquet",
                time: "11:30",
                title: "Q&A seeds",
                bullets: [
                    "First operating cadence to align product, marketing, sales, CS?",
                    "Which single RevOps metric do you instrument first?",
                    "Anti-pattern you see in revenue dashboards or ritualsâand how to fix it?"
                ]
            },
            {
                section: "Lunch",
                time: "12:15",
                title: "lunch break",
                bullets: [
                    "Announce lunch break",
                    "Location: Agora",
                    "Follow the signs",
                    "Back at 13:30"
                ]
            },
            {
                section: "Jordan & Doug",
                time: "13:30",
                title: "introduction + background",
                bullets: [
                    "Jordan Crawford: Founder, Blueprint; co-host, Cannonball GTM",
                    "Doug Bell: Fractional CMO, Chief Outsiders; co-host, Cannonball GTM",
                    "Blueprint: AI-driven GTM/data science studio for B2B SaaS; embeds AI agents",
                    "Chief Outsiders: network of fractional CMOs/CSOs",
                    "Live AI build: zero to pro-grade campaign in ~60 min",
                    "Practical workflows, fast iteration, message quality at speed",
                    "Please welcome Jordan Crawford and Doug Bell!"
                ]
            },
            {
                section: "Jordan & Doug",
                time: "13:30",
                title: "Q&A note",
                bullets: [
                    "No Q&A for MC Frank (to confirm)"
                ]
            },
            {
                section: "VC Panel",
                time: "14:30",
                title: "moderator + panelists",
                bullets: [
                    "Moderator: David Charbonneau (Managing Partner, Boreal Ventures)",
                    "Karamdeep Nijjar â Partner, Inovia Capital",
                    "Jim Texier â Partner & CTO, Framework Venture Partners",
                    "Emily Walsh â Lead Investor, Georgian",
                    "Panel focus: inside the VC mindâwhat top Canadian investors look for now",
                    "Please welcome David Charbonneau and our panelists!"
                ]
            },
            {
                section: "VC Panel",
                time: "14:30",
                title: "Q&A note",
                bullets: [
                    "No Q&A for MC FrankâDavid moderates"
                ]
            },
            {
                section: "Break",
                time: "15:15",
                title: "afternoon break",
                bullets: [
                    "Announce break",
                    "Back at 15:30"
                ]
            },
            {
                section: "Dan Patterson",
                time: "15:30",
                title: "introduction + background",
                bullets: [
                    "Chief Innovation Officer, Winning by Design",
                    "Winning by Design: B2B revenue architecture & training firm",
                    "Known for SPICED framework",
                    "Compounding growth: marginal gains beat moonshots",
                    "AI-powered loops turn linear playbooks into flywheels",
                    "Science-based GTM across customer lifecycle",
                    "Please welcome to the stage Dr. Dan Patterson!"
                ]
            },
            {
                section: "Dan Patterson",
                time: "15:30",
                title: "Q&A seeds",
                bullets: [
                    "Easiest way to explain growth 'loop' to non-GTM stakeholders?",
                    "Simplest compounding loop a Series A team can deploy this quarter?",
                    "Where do teams over-engineer growth loops?",
                    "How to simplify the first version?"
                ]
            },
            {
                section: "Break",
                time: "16:15",
                title: "final break",
                bullets: [
                    "Announce break"
                ]
            },
            {
                section: "Closing",
                time: "16:15",
                title: "key themes",
                bullets: [
                    "Identify constraints early (JD)",
                    "Ship enablement that boosts productivity (Sarah)",
                    "Install operating cadence + precise RevOps metrics (Guillaume)",
                    "Build fast with AI, protect message quality (Jordan & Doug)",
                    "Know investor signals that prove momentum (VC panel)",
                    "Design compounding loops over one-off wins (Dan)"
                ]
            },
            {
                section: "Closing",
                time: "16:15",
                title: "thank you",
                bullets: [
                    "Thank you to Vasco: precise, actionable insights to engineer & scale growth",
                    "Thank you to Boreal Ventures: GTM-driven Canadian capital with global reach"
                ]
            },
            {
                section: "Mark Roberge",
                time: "16:30",
                title: "introduction + background",
                bullets: [
                    "I owe him & HubSpot my first job as content marketer ð",
                    "Co-founder & Managing Director, Stage 2 Capital",
                    "Senior Lecturer, Harvard Business School",
                    "Founding CRO, HubSpot",
                    "Author of 'The Sales Acceleration Formula'",
                    "Scaled HubSpot from $0 to $100M with metrics-driven GTM",
                    "Focus: 360Â° view of GTM precision, pitfalls, and proven strategies",
                    "Please welcome to the stage Mark Roberge!"
                ]
            },
            {
                section: "Mark Roberge",
                time: "16:30",
                title: "Q&A note",
                bullets: [
                    "No Q&A for MC FrankâGui + JD moderate"
                ]
            }
        ];

        // App state
        let cards = [];
        let currentIndex = 0;

        // Initialize app
        function init() {
            // Load cards from localStorage or use defaults
            const saved = localStorage.getItem('revstar-cards');
            cards = saved ? JSON.parse(saved) : DEFAULT_CARDS;

            // Render first card
            renderCard();

            // Setup event listeners
            setupEventListeners();
        }

        function renderCard() {
            const card = cards[currentIndex];
            const cardEl = document.getElementById('current-card');

            // Calculate section-based numbering
            const sectionCards = cards.filter(c => c.section === card.section);
            const currentSectionNumber = cards.slice(0, currentIndex + 1).filter(c => c.section === card.section).length;
            const totalSectionCards = sectionCards.length;

            // Check if this is the first card of a new section and get the time
            const isFirstInSection = currentSectionNumber === 1;
            const firstCardOfSection = sectionCards[0];
            const sectionTimeLabel = (isFirstInSection && firstCardOfSection.time) ? `<div class="card-section-time">${firstCardOfSection.time}</div>` : '';

            // Update progress
            document.getElementById('progress').textContent = `card ${currentIndex + 1}/${cards.length}`;

            // Update card content
            const bullets = card.bullets.map(b => `<li>${b}</li>`).join('');

            cardEl.innerHTML = `
                <div class="card-number">${card.section} ${currentSectionNumber}/${totalSectionCards}</div>
                <div class="card-section">${card.section}</div>
                <div class="card-title">${card.title}</div>
                <div class="card-content">
                    <ul>${bullets}</ul>
                </div>
                <div class="card-footer">RevStar Summit '25</div>
                ${sectionTimeLabel}
            `;
        }

        function nextCard() {
            if (currentIndex < cards.length - 1) {
                animateCard('swipe-left');
                setTimeout(() => {
                    currentIndex++;
                    renderCard();
                }, 180);
            }
        }

        function prevCard() {
            if (currentIndex > 0) {
                animateCard('swipe-right');
                setTimeout(() => {
                    currentIndex--;
                    renderCard();
                }, 180);
            }
        }

        function animateCard(direction) {
            const cardEl = document.getElementById('current-card');
            cardEl.classList.add(direction);
            setTimeout(() => {
                cardEl.classList.remove(direction);
            }, 180);
        }

        function goToCard(index) {
            currentIndex = index;
            renderCard();
            document.getElementById('overview-panel').classList.remove('visible');
        }

        function renderOverview() {
            const grid = document.getElementById('overview-grid');
            grid.innerHTML = cards.map((card, idx) => {
                const sectionCards = cards.filter(c => c.section === card.section);
                const currentSectionNumber = cards.slice(0, idx + 1).filter(c => c.section === card.section).length;
                const totalSectionCards = sectionCards.length;
                const preview = card.bullets.slice(0, 2).join(' Â· ');
                const timeLabel = card.time ? `<div class="overview-card-time">${card.time}</div>` : '';

                return `
                    <div class="overview-card" onclick="goToCard(${idx})">
                        ${timeLabel}
                        <div class="overview-card-number">${card.section} ${currentSectionNumber}/${totalSectionCards}</div>
                        <div class="overview-card-section">${card.section}</div>
                        <div class="overview-card-title">${card.title}</div>
                        <div class="overview-card-preview">${preview}</div>
                    </div>
                `;
            }).join('');
        }

        function renderAllNotes() {
            const content = document.getElementById('all-notes-content');

            // Group cards by section
            const sections = {};
            cards.forEach(card => {
                if (!sections[card.section]) {
                    sections[card.section] = {
                        time: card.time,
                        cards: []
                    };
                }
                sections[card.section].cards.push(card);
            });

            // Render all sections chronologically
            content.innerHTML = Object.entries(sections).map(([sectionName, sectionData]) => {
                const timeLabel = sectionData.time ? `<div class="notes-section-time">${sectionData.time}</div>` : '';
                const cardsHtml = sectionData.cards.map(card => {
                    const bullets = card.bullets.map(b => `<li>${b}</li>`).join('');
                    return `
                        <div class="notes-card">
                            <div class="notes-card-title">${card.title}</div>
                            <ul class="notes-card-bullets">${bullets}</ul>
                        </div>
                    `;
                }).join('');

                return `
                    <div class="notes-section">
                        <div class="notes-section-header">
                            <div class="notes-section-name">${sectionName}</div>
                            ${timeLabel}
                        </div>
                        ${cardsHtml}
                    </div>
                `;
            }).join('');
        }

        function setupEventListeners() {
            // Tap zones
            document.querySelector('.tap-zone-left').addEventListener('click', prevCard);
            document.querySelector('.tap-zone-right').addEventListener('click', nextCard);

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') prevCard();
                if (e.key === 'ArrowRight') nextCard();
            });

            // Swipe support
            let touchStartX = 0;
            let touchEndX = 0;

            const cardContainer = document.getElementById('card-container');

            cardContainer.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            });

            cardContainer.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });

            function handleSwipe() {
                const swipeThreshold = 50;
                if (touchEndX < touchStartX - swipeThreshold) {
                    nextCard();
                }
                if (touchEndX > touchStartX + swipeThreshold) {
                    prevCard();
                }
            }

            // Progress click to open overview
            document.getElementById('progress').addEventListener('click', () => {
                renderOverview();
                document.getElementById('overview-panel').classList.add('visible');
            });

            // Overview panel
            document.querySelector('.close-overview').addEventListener('click', () => {
                document.getElementById('overview-panel').classList.remove('visible');
            });

            // All Notes panel
            document.getElementById('all-notes-btn').addEventListener('click', () => {
                renderAllNotes();
                document.getElementById('all-notes-panel').classList.add('visible');
            });

            document.querySelector('.close-all-notes').addEventListener('click', () => {
                document.getElementById('all-notes-panel').classList.remove('visible');
            });

            // Interventions panel
            document.getElementById('interventions-btn').addEventListener('click', () => {
                document.getElementById('interventions-panel').classList.add('visible');
            });

            document.querySelector('.close-interventions').addEventListener('click', () => {
                document.getElementById('interventions-panel').classList.remove('visible');
            });

            // Edit mode
            document.getElementById('edit-btn').addEventListener('click', () => {
                document.getElementById('cards-editor').value = JSON.stringify(cards, null, 2);
                document.getElementById('edit-panel').classList.add('visible');
            });

            document.querySelector('.close-edit').addEventListener('click', () => {
                document.getElementById('edit-panel').classList.remove('visible');
            });

            document.getElementById('save-btn').addEventListener('click', () => {
                try {
                    const newCards = JSON.parse(document.getElementById('cards-editor').value);
                    cards = newCards;
                    localStorage.setItem('revstar-cards', JSON.stringify(cards));
                    currentIndex = Math.min(currentIndex, cards.length - 1);
                    renderCard();
                    document.getElementById('edit-panel').classList.remove('visible');
                } catch (e) {
                    alert('Invalid JSON. Please check your syntax.');
                }
            });

            document.getElementById('reset-btn').addEventListener('click', () => {
                if (confirm('Reset to default cards? This will delete all your changes.')) {
                    cards = DEFAULT_CARDS;
                    localStorage.setItem('revstar-cards', JSON.stringify(cards));
                    currentIndex = 0;
                    renderCard();
                    document.getElementById('edit-panel').classList.remove('visible');
                }
            });
        }

        // Start the app
        init();
    </script>
</body>
</html>
